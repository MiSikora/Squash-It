import io.mehow.squashit.CredentialsId;
import io.mehow.squashit.Secret;

PRAGMA foreign_keys = 1;

CREATE TABLE credentials(
  id TEXT AS CredentialsId PRIMARY KEY,
  secret TEXT AS Secret NOT NULL
);

insertOrFail:
INSERT OR FAIL INTO credentials VALUES ?;

changes:
SELECT changes();

update:
UPDATE credentials
SET secret = ?2
WHERE id = ?1;

delete:
DELETE FROM credentials WHERE id = ?;

getAll:
SELECT * FROM credentials ORDER BY id;

get:
SELECT * FROM credentials WHERE id = ?;
