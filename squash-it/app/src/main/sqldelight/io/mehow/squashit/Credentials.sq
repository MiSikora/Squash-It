import io.mehow.squashit.CredentialsId;
import io.mehow.squashit.Token;

PRAGMA foreign_keys = 1;

CREATE TABLE credentials(
  id TEXT AS CredentialsId PRIMARY KEY,
  token TEXT AS Token NOT NULL
);

insertOrFail:
INSERT OR FAIL INTO credentials VALUES ?;

changes:
SELECT changes();

update:
UPDATE credentials
SET token = ?2
WHERE id = ?1;

delete:
DELETE FROM credentials WHERE id = ?;

getAll:
SELECT * FROM credentials ORDER BY id;

get:
SELECT * FROM credentials WHERE id = ?;
